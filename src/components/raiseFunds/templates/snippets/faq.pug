include ../../../../templates/fields_mixins.pug

mixin row(value, index)
  - var index = index;

  div(data-index=index class=name + ' addSectionBlock')
    .delete-section-container
      a(href="#" data-section=name data-index=index).delete-sectionnew
        i.fa.fa-times

    +fieldNestedTextLabel(name, 'question', value, index, {})
    +fieldNestedTextareaLabel(name, 'answer', value, index, {})

mixin run()

  if first_run
    .row
      .col-lg-12.text-lg-center.text-md-center.text-xs-center
        h3.d-inline-block.m-t-0.mb25 FAQs
    div(class=(attr.row == 0 ? '' : 'row ') + name + '_block' + (attr.required == true ? ' required ' : ' ') + ' nested')
      div(class=(attr.row == 0 ? '' : 'row ') + name + '_container' + (attr.required == true ? ' required ' : ' ') + ' nested')
        if values == null || values.length == 0
          +row({}, 0)
        else
          each value, index in values
            +row(value, index)
    .row.add-link
      .col-lg-9.offset-1.pull-right
        a(href="#" data-section=name data-comp="raiseFunds" data-template="faq").link-2.add-sectionnew
          i.fa.fa-plus
          |  Add Another FAQ
    //- .faq-form-group-m-b-0
    //-   +fieldBlock("faq", '', {
    //-     class1: 'col-lg-3 col-md-12 text-md-left',
    //-     class2: 'col-lg-9 col-md-12',
    //-     type: 'json',
    //-     })

    //- h3.text-lg-center.text-xs-center.m-t-0 We Need Information for Last 3 Years
    //- b.col-lg-12.m-b-3 Changed roles within the Company? Please list  all positions and offices with the Company held and the period of time in which you served in the position or office.

    //- div(class=(attr.row == 0 ? '' : 'row ') + name + '_block' + (attr.required == true ? ' required ' : ' ') + ' nested')
    //-   div(class=(attr.row == 0 ? '' : 'row ') + name + '_container' + (attr.required == true ? ' required ' : ' ') + ' nested')

    //-     if value == null || value.length == 0
    //-       +row({}, 0)

    //-     else
    //-       each value, index in values
    //-         +row(value, index)

    //-   .row.add-link
    //-     .col-lg-9.offset-1.pull-right
    //-       a(href="#" data-section=name data-comp='formc' data-template='positions').link-2.add-sectionnew
    //-         i.fa.fa-plus
    //-         |  Add position
  else
    +row({}, index)

+run()