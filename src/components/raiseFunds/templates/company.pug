include ../../../templates/mixins.pug
include ../../../templates/fields_mixins.pug
include ../../../templates/sideMenu.pug


+breadcrumbs('Create Company', '', 
    [
        ['Home', '/'],
        ['Create Company', ''],
        ['Company', ''],
    ]
)

section.create-company.container.m-b-85
  +menu('company', 'create')

  //START RIGHT BLOCK
  .col-lg-10.offset-lg-1.col-xl-8.offset-xl-0.push-xl-3
    h2.text-uppercase.text-lg-center.text-xs-center.m-t-0.dosis Company
    form(metod="post" action="").form-section

      +fieldTextLabel("name", _.extend({
        class1: 'col-lg-3 col-md-12 p-t-0 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'text',
        placeholder: 'Company Legal Name',
        }, fields.name))
      +fieldTextLabel("industry", _.extend({
        class1: 'col-lg-3 col-md-12 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'choice',
        empty: {display: 'Choose Industry', value: ''},
        }, fields.industry))
      +fieldTextLabel("founding_state", _.extend({
        class1: 'col-lg-3 col-md-12 big-label-text text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'choice',
        empty: {display: 'Choose State', value: ''},
        }, fields.founding_state))
      +fieldTextLabel("tagline", _.extend({
        class1: 'col-lg-3 col-md-12 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'text',
        placeholder: 'Your Company Slogan',
        maxlength: 90,
        }, fields.tagline))
      +fieldTextLabel("description", _.extend({
        class1: 'col-lg-3 col-md-12 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'textarea',
        placeholder: 'Your Company Description',
        }, fields.description))
      .row
        .col-lg-6.col-xs-12.castom-select-5.form-group-m-b-0
          +fieldTextLabel("corporate_structure", _.extend({
            class1: 'col-lg-6',
            class2: 'col-lg-6',
            type: 'choice',
            help_text: 'C-corps can choose to issue Common Equity or a Revenue Share. LLCâ€™s can only issue a Revenue Share',
            empty: {display: 'Choose', value: ''},
          }, fields.corporate_structure))
        .col-lg-6.col-xs-12.date-input.pull-right.required
          .col-date.form-group-m-b-0
            +fieldTextLabel("founding_date", _.extend({
              class1: 'col-lg-5 col-md-3 p-l-0 p-r-0',
              class2: 'col-lg-7 col-md-8 pull-md-right',
            }, fields.founding_date))
      .border-bottom
      +fieldTextLabel("address_1", _.extend({
        class1: 'col-lg-3 col-md-12 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'text',
        }, fields.address_1))
      +fieldTextLabel("address_2", _.extend({
        class1: 'col-lg-3 col-md-12 text-md-left text-lg-right',
        class2: 'col-lg-9 col-md-12',
        type: 'text',
        }, fields.address_2))
      .row
        .col-lg-6.col-l-65
          +fieldTextLabel("zip_code", _.extend({
            class1: 'col-lg-6 text-lg-right',
            class2: 'col-lg-6',
            }, fields.zip_code))
        .col-lg-5.city_states.required.sity-state-error
          input(type='hidden' name='state' value=values.state)#state
          input(type='hidden' name='city' value=values.city)#city

          label.col-lg-6.col-xs-6.text-lg-right.text-xs-left City/State
          .col-lg-6.col-xs-6
            a(data-toggle="modal" data-target="#city_state_modal" href="#city_state_modal").change_state_city
              span.input-value.js-city-state= (values.city ? values.city : "(city)") + ", " + (values.state ? values.state : "(state)") 
              i.fa.fa-pencil-square-o.link-1
      .row.m-b-0
        .col-lg-6.col-l-65
          +fieldTextLabel("phone", _.extend({
            class1: 'col-lg-6 col-md-12 text-md-left text-lg-right',
            class2: 'col-lg-6 col-md-12', 
            type: 'text',
            }, fields.phone))
        .col-lg-6.col-l-65
          +fieldTextLabel("website", _.extend({
            class1: 'col-lg-5 col-md-12 text-md-left text-lg-right',
            class2: 'col-lg-7 col-md-12', 
            type: 'text',
            placeholder: 'http://www.',
            }, fields.website))
      .border-bottom.m-t-2
      .row.col-l-65.m-b-0
        .col-lg-6
          +fieldTextLabel("twitter", _.extend({
            class1: 'col-lg-6 col-md-12 text-md-left text-lg-right', 
            class2: 'col-lg-6 col-md-12', 
            type: 'text',
            }, fields.twitter))
        .col-lg-6
          +fieldTextLabel("facebook", _.extend({
            class1: 'col-lg-5 col-md-12 text-md-left text-lg-right', 
            class2: 'col-lg-7 col-md-12', 
            type: 'text',
            }, fields.facebook))
      .row.m-b-0.col-l-65
        .col-lg-6
          +fieldTextLabel("instagram", _.extend({
            class1: 'col-lg-6 col-md-12 text-md-left text-lg-right', 
            class2: 'col-lg-6 col-md-12', 
            type: 'text',
            }, fields.instagram))
        .col-lg-6
          +fieldTextLabel("linkedin", _.extend({
            class1: 'col-lg-5 col-md-12 text-md-left text-lg-right', 
            class2: 'col-lg-7 col-md-12', 
            type: 'text',
            }, fields.linkedin))
      .row.m-t-2.pull-lg-right.text-md-center.text-sm-center.text-xs-center
        .col-lg-12
        if campaign.id
          // button(type="button" data-href=("/api/campaign/" + campaign.id)).btn.btn-secondary.text-uppercase.onPreview.m-r-3 preview
        button(type="submit").btn.btn-primary.text-uppercase save and continue
          i.fa.fa-angle-right
  //START LEFT BLOCK
  //- .col-lg-6.offset-lg-3.col-xl-3.offset-xl-0.pull-xl-8.create_compaign
    .jumbotron.jumbotron-fluid.row
      .raise-funds
        h4.font-weight-bold.text-uppercase.m-b-0 Raise funds
          //- .small-text.font-weight-normal.p-t-0 (10% Done)
      div(role="tablist" aria-multiselectable="true")#accordion
        .panel.panel-default
          div(role="tab").panel-heading
            a(data-toggle="collapse"
            data-parent="#accordion"
            href="#company"
            aria-expanded="true").list-group-item.active.list-group-heading
              i.fa.fa-briefcase
              |  Company
              span.pull-right
                i.fa.fa-angle-down.arrow
          div(role="tabpanel")#company.panel-collapse.collapse.in
            .list-group
              a(href="#").list-group-item.list-group-item-action.active Company Detail
                if campaign.id
                  .icon-check
                    i.fa.fa-check-circle-o
        .panel.panel-default
          div(role="tab").panel-heading
            a(data-toggle="collapse"
            data-parent="#accordion"
            href="#campaign"
            aria-expanded="true").list-group-item.list-group-heading
              i.fa.fa-bar-chart
              |  Campaign
              span.pull-right
                i.fa.fa-angle-left.arrow
          div(role="tabpanel")#campaign.panel-collapse.collapse
            .list-group
              +getCompanyUrl(campaign, '', 'general_information', 'General Information')
              +getCompanyUrl(campaign, '', 'media', 'Media')
              +getCompanyUrl(campaign, '', 'team-members', 'Team Members')
              +getCompanyUrl(campaign, '', 'specifics', 'Specifics')
              +getCompanyUrl(campaign, '', 'perks', 'Perks')
        .panel.panel-default
          div(role="tab").panel-heading
            a(data-toggle="collapse"
            data-parent="#accordion"
            href="#form_c"
            aria-expanded="true").list-group-item.list-group-heading
              i.fa.fa-university
              |  form c
              span.pull-right
                i.fa.fa-angle-left.arrow
          div(role="tabpanel")#form_c.panel-collapse.collapse
            .list-group
              a(href="#").list-group-item.list-group-item-action form c
    .row(style="visibility:" + (campaign.id ? 'visible' : 'hidden'))
      .col-lg-12.text-xs-center
        .row
          button(type="button" data-href=("#")).btn.btn-secondary.text-uppercase.m-t-2.onPreview preview
        .row
          button(type="button").btn.btn-primary.text-uppercase.m-t-2.submit_form submit campaign
    .row
      .education-link-wrap
        .jumbotron.jumbotron-fluid
          h4.font-weight-bold.text-uppercase
            i.fa.fa-book
            |  Education Links
          .nav
            li.nav-item
              a(href="/pg/business_tutorial").nav-link.link-3 Business Tutorial
            li.nav-item
              a(href="/pg/success_guide").nav-link.link-3 Success Guide
            li.nav-item
              a(href="/calculator/selectYourBusiness").nav-link.link-3 What's My Business Worth?
            li.nav-item
              a(href="/calculator/whatmybusinessworth/intro").nav-link.link-3 How Much Should I Raise?
div(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")#company_publish.modal.fade
  div(role="document").modal-dialog
    .modal-content
      .modal-header
        button(type="button" data-dismiss="modal" aria-label="Close").close
          span(aria-hidden="true")
            i.fa.fa-times
        h2.text-lg-center.text-uppercase.text-md-center.text-xs-center.line-height-1.dosis.m-t-1.modal-title COMPLETE THE FOLLOWING TO PUBLISH YOUR COMPANY

      .modal-body.m-b-2
        .form-section
          .col-lg-6.pull-left.p-l-0.general_information.collapse
            h3.m-b-0.m-t-0 General Information
          .col-lg-6.text-xs-right.m-b-10.p-r-0.general_information.collapse
            a(href="/campaign/general_information/" + campaign.id + "?check=1").btn.btn-sm.btn-secondary.text-uppercase.m-t-0 Edit
          .col-lg-6.pull-left.p-l-0.media.collapse
            h3.m-b-0.m-t-0 Media 
          .col-lg-6.text-xs-right.m-b-10.p-r-0.media.collapse
            a(href='/campaign/media/' + campaign.id + '?check=1').btn.btn-sm.btn-secondary.text-uppercase.m-t-0 Edit
          .col-lg-6.pull-left.p-l-0.team-members.collapse
            h3.m-b-0.m-t-0 Team Members 
          .col-lg-6.text-xs-right.m-b-10.p-r-0.team-members.collapse
            a(href='/campaign/team-members/' + campaign.id + '?check=1').btn.btn-sm.btn-secondary.text-uppercase.m-t-0 Edit
          .col-lg-6.pull-left.p-l-0.specifics.collapse
            h3.m-b-0.m-t-0 Specifics 
          .col-lg-6.text-xs-right.m-b-10.p-r-0.specifics.collapse
            a(href='/campaign/specifics/' + campaign.id + '?check=1').btn.btn-sm.btn-secondary.text-uppercase.m-t-0 Edit
          .col-lg-6.pull-left.p-l-0.perks.collapse
            h3.m-b-0.m-t-0 Perks 
          .col-lg-6.text-xs-right.mb30.p-r-0.perks.collapse
            a(href='/campaign/perks/' + campaign.id + '?check=1').btn.btn-sm.btn-secondary.text-uppercase.m-t-0 Edit
      .modal-footer
div(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")#company_publish_confirm.modal.fade
  div(role="document").modal-dialog
    .modal-content
      .modal-header
        button(type="button" data-dismiss="modal" aria-label="Close").close
          span(aria-hidden="true")
            i.fa.fa-times
        h2.text-lg-center.text-uppercase.text-md-center.text-xs-center.line-height-1.dosis.m-t-1.modal-title Are you sure you want to submit ?

      .modal-body.m-b-2
        .col-sm-12
          .result-info-block.m-x-auto.text-xs-center
            |  Once you submit, you will no longer have the ability to edit your Campaign
            .info-btn-block.mb30
              a(href="#" data-dismiss="modal").btn.m-t-2.m-r-1.btn-secondary Cancel
              a(href="/campaign/thankyou/" + campaign.id).btn.m-t-2.btn-primary.text-uppercase Yes
      .modal-footer
//MODAL
div(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")#city_state_modal.modal.fade
  div(role="document").modal-dialog
    .modal-content
      .modal-header
        button(type="button" data-dismiss="modal" aria-label="Close").close
          span(aria-hidden="true")
            i.fa.fa-times
        h2.text-lg-center.text-uppercase.dosis.text-md-center.text-xs-center.modal-title City/State

      .modal-body
        .container.form-section
          form.col-lg-10.offset-lg-1.border-bottom
            .form-group.row.clearfix.required
              input(type="text" placeholder="City" value=values.city).js-city.form-control
            .form-group.row.clearfix.required
              select(name='state' value=values.state).js-state.form-control.custom-select
                option(checked='checked', value="") State
                each state in states
                  if state.abbreviation == values.state
                    option(value=state.abbreviation selected)= state.name
                  else
                    option(value=state.abbreviation)= state.name
            .form-group.row.clearfix.required.m0
              .row
                .col-lg-12
                  .col-lg-12.text-lg-center.text-md-center.text-xs-center
                    button(data-dismiss="modal").update-location.btn.btn-primary.text-uppercase save

        .modal-footer
script(src= window.location.protocol + "//maps.google.com/maps/api/js?language=en&key=" + googleMapKey)
