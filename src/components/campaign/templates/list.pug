- 'use strict';
section.small-section.filter
  form(
      action="/campaigns/" 
      method="get" 
      role="form")
    .container
      .row
        .col-lg-3
          .one_drop
            select(multiple="true" title="INDUSTRY").form-control.selectpicker
              option Advertising & Marketing
              option Arts, Fashion, & Media
              option Business to Business
              option Cleantech
              option Construction & Manufacturing
              option Consumer Products
              option Energy/Transport

        .col-lg-3
          .one_drop
            select(multiple="true" title="STAGE").form-control.selectpicker
              option Pre-seed
              option Seed
              option Bridge to Series A
              option Series A
              option Bridge to Series B
              option Series B

        .col-lg-3
          .one_drop
            select(multiple="true" title="LOCATION").form-control.selectpicker
              option Locations
              option Los Angeles, CA
              option San Francisco, CA
              option New York, NY
              option Las Vegas, NV

        .col-lg-3
          .one_drop
            select(multiple="true" title="DEAL TYPE").form-control.selectpicker
              option Common Equity
              option Revenue Share

      .create-alert-block
        .row
          .col-sm-6.col-lg-9.col-xl-10.col-xs-12.text-sm-left.text-xs-center
            a(href="#").pull-xl-right.btn.btn-sm.mr30.text-uppercase.auth-pop create alert

          .col-sm-6.col-lg-3.col-xl-2.col-xs-12.text-xs-center
            - var criterion = {name: 'Name', amount_raised: 'Amount Raised', expiration_date: 'Expiration Date'};
            select.orderby.custom-select
              option(value="0") Order by
              each v, k in criterion
                if k == app.getParams().orderby
                  option(value=k selected)= v
                else
                  option(value=k)= v

section.campaing-list
  .container#campaignList
    include _list.pug
- var currentPage = Number(app.getParams().page) || 1;

- var orderBy = app.getParams().orderby ? '&orderby=' + app.getParams().orderby : '';
- var count = collection.count[0];
section.pagination(style="display:" + (count <= 6 ? "none" : "block") + ";")
    .container
        .row
            .col-lg-12
                nav
                    ul.pagination.pagination-sm
                        if currentPage - 1 > 0
                          li.page-item
                              a(href="/companies?page=" + (currentPage - 1) + orderBy).page-link
                                  span(aria-hidden="true")
                                      i.fa.fa-angle-left
                                  span.sr-only Next
                        li.page-item.active
                            a(href="/companies?page=" + currentPage + orderBy).page-link= currentPage
                        if currentPage + 1 <= Math.ceil(count / 6)
                          li.page-item
                              a(href="/companies?page=" + (currentPage + 1) + orderBy).page-link= (currentPage + 1)
                        if currentPage + 2 <= Math.ceil(count / 6)
                          li.page-item
                              a(href="/companies?page=" + (currentPage + 2) + orderBy).page-link= (currentPage + 2)
                        if currentPage + 1 <= Math.ceil(count / 6)
                          li.page-item
                              a(href=("/companies?page=" + (currentPage + 1) + orderBy) aria-label="Next").page-link
                                  span(aria-hidden="true")
                                      i.fa.fa-angle-right
                                  span.sr-only Next